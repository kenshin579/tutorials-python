# RAG (Retrieval-Augmented Generation) 개요

## RAG란?

RAG는 Retrieval-Augmented Generation의 약자로, LLM의 응답 품질을 외부 데이터 검색을 통해 향상시키는 기술이다.

LLM은 학습 데이터에 포함된 정보만 활용할 수 있어 최신 정보나 도메인 특화 지식에 약하다. RAG는 이 문제를 해결하기 위해 외부 지식 베이스에서 관련 문서를 검색한 뒤, 이를 프롬프트에 포함하여 LLM이 더 정확한 답변을 생성하도록 돕는다.

## RAG 파이프라인

RAG 파이프라인은 크게 두 단계로 나뉜다.

### 오프라인 인덱싱

1. **문서 로드**: 원본 문서(PDF, 마크다운, 웹 페이지 등)를 읽어들인다
2. **청킹**: 긴 문서를 작은 단위(chunk)로 분할한다
3. **임베딩**: 각 청크를 벡터로 변환한다
4. **저장**: 벡터를 벡터 저장소(ChromaDB, FAISS 등)에 저장한다

### 온라인 질의응답

1. **질의 임베딩**: 사용자 질문을 벡터로 변환한다
2. **유사도 검색**: 벡터 저장소에서 질문과 유사한 청크를 검색한다
3. **프롬프트 구성**: 검색된 청크와 질문을 결합하여 프롬프트를 만든다
4. **답변 생성**: LLM이 프롬프트를 기반으로 답변을 생성한다

## RAG의 장점

- 최신 정보를 반영할 수 있다 (데이터베이스 업데이트만으로 가능)
- 환각(hallucination)을 크게 줄인다
- 답변의 출처를 제시할 수 있다
- 모델 재학습 없이 지식을 확장할 수 있다
